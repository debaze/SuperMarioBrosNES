/* Original font-face */
@font-face {
	font-family: "SMBRegular";
	src: url(fonts/SMBRegular.ttf) format("truetype")
}

/* This works only for Firefox, for Chrome use "pixelated" instead */
* {image-rendering: crisp-edges}

html, body {
	margin: 0;
	overflow: hidden;
	background-color: #000;
	user-select: none;
	font-family: SMBRegular
}

/* Pause menu */
section.pause {
	width: 100%;
	height: 100%;
	margin: 0 auto;
	top: 0;
	right: 0;
	bottom: 0;
	left: 0;
	position: fixed;
	background: rgba(0, 0, 0, 0.5) url(textures/menu.png) center 25% no-repeat;
	background-size: 528px 261px;
	z-index: 3
}

.map, .environment {
	margin: auto;
	top: 0;
	right: 0;
	bottom: 0;
	left: 0;
	position: absolute
}

.map {
	background-color: #5c94fc;
	/*background-color: #754b3d*/
}

.environment {z-index: 0}

/* Blocks */

div.block {
	width: 48px;
	height: 48px;
	position: absolute;
	background-size: 100%;
	-webkit-animation-timing-function: linear;
	animation-timing-function: linear
}

.block.ground {background-image: url(textures/block/ground.png)}
.block.ground {background-image: url(textures/block/ground.png)}
.block.brick {background-image: url(textures/block/brick.png)}
.block.metal {background-image: url(textures/block/metal.png)}
.block.steel {background-image: url(textures/block/steel.png)}
.block.hidden {background-image: url(textures/block/hidden.png)}
.block.mystery {
	background-image: url(textures/block/mystery1.png);
	animation-name: mystery;
	animation-duration: 1s;
	animation-iteration-count: infinite;
}
.block.behind {
	box-shadow: inset 0 0 0 24px rgba(0, 0, 0, 0.5);
	filter: contrast(0.75);
}
.block.pop {
	-webkit-animation-name: pop;
	-webkit-animation-duration: 0.2s;
	animation-name: pop;
	animation-duration: 0.2s
}

@keyframes mystery {
	0%, 40% {background-image: url(textures/block/mystery1.png)}
	55% {background-image: url(textures/block/mystery2.png)}
	70% {background-image: url(textures/block/mystery3.png)}
	85% {background-image: url(textures/block/mystery2.png)}
}

@-webkit-keyframes pop {
	30% {-webkit-transform: translateY(-16px)}
	40% {-webkit-transform: translateY(-24px)}
	90%, 100% {-webkit-transform: translateY(0)}
}
@keyframes pop {
	30% {transform: translateY(-16px)}
	40% {transform: translateY(-24px)}
	90%, 100% {transform: translateY(0)}
}

/* Warp pipes */
.pipe {
	width: 96px;
	height: 96px;
	bottom: 96px;
	left: 48px;
	position: absolute;
	background-image: url(textures/pipe/pipe1.png);
	background-size: 100%
}

/* Decorative bushes */

.bush {
	height: 48px;
	bottom: 96px;
	position: absolute;
	background-size: 100%;
	z-index: -2
}

.bush.bush-1 {
	width: 96px;
	left: 0;
	background-image: url(textures/environment/bush1.png)
}
.bush.bush-2 {
	width: 144px;
	left: 100px;
	background-image: url(textures/environment/bush2.png)
}
.bush.bush-3 {
	width: 192px;
	left: 400px;
	background-image: url(textures/environment/bush3.png)
}

/* Moving clouds */

.cloud {
	height: 72px;
	position: absolute;
	background-size: 100%;
	-webkit-animation: cloud linear infinite;
	animation: cloud linear infinite;
	z-index: -2
}

.cloud.cloud-1 {
	width: 96px;
	top: 48px;
	background-image: url(textures/environment/cloud1.png);
	-webkit-animation-duration: 80s;
	animation-duration: 80s
}
.cloud.cloud-2 {
	width: 144px;
	top: 144px;
	background-image: url(textures/environment/cloud2.png);
	-webkit-animation-duration: 40s;
	animation-duration: 40s
}
.cloud.cloud-3 {
	width: 192px;
	top: 240px;
	background-image: url(textures/environment/cloud3.png);
	-webkit-animation-duration: 60s;
	animation-duration: 60s
}

@-webkit-keyframes cloud {100% {left: calc(1.1 * 100vw)}}
@keyframes cloud {100% {left: calc(1.1 * 100vw)}}

/* Decorative hills */

.hill {
	bottom: 96px;
	position: absolute;
	background-size: 100%;
	z-index: -3
}

.hill.hill-1 {
	width: 144px;
	height: 57px;
	background-image: url(textures/environment/hill1.png)
}
.hill.hill-2 {
	width: 240px;
	height: 105px;
	background-image: url(textures/environment/hill2.png)
}

/* Player sprite */

.player {
	width: 48px;
	height: 48px;
	position: absolute;
	background-image: url(textures/entity/mario-idle.png);
	background-size: 100%;
	-webkit-animation-name: playerSpawn;
	-webkit-animation-duration: 1s;
	-webkit-animation-timing-function: linear;
	animation-name: playerSpawn;
	animation-duration: 1s;
	animation-timing-function: linear;
	z-index: 2
}

@-webkit-keyframes playerSpawn {
	0%, 99% {z-index: 0}
	0% {bottom: 96px}
	100% {
		bottom: 192px;
		z-index: 2
	}
}
@keyframes playerSpawn {
	0%, 99% {z-index: 0}
	0% {bottom: 96px}
	100% {
		bottom: 192px;
		z-index: 2
	}
}

@-webkit-keyframes playerWalk {
	33% {background-image: url(textures/entity/mario-walk1.png)}
	67% {background-image: url(textures/entity/mario-walk2.png)}
	100% {background-image: url(textures/entity/mario-walk3.png)}
}
@keyframes playerWalk {
	33% {background-image: url(textures/entity/mario-walk1.png)}
	67% {background-image: url(textures/entity/mario-walk2.png)}
	100% {background-image: url(textures/entity/mario-walk3.png)}
}

@-webkit-keyframes playerDeathFall {
	0%, 100% {visibility: visible}
	50% {bottom: -48px}
	100% {
		bottom: 96px;
		background-image: url(textures/entity/mario-fall.png)
	}
}
@keyframes playerDeathFall {
	0%, 100% {visibility: visible}
	50% {bottom: -48px}
	100% {
		bottom: 96px;
		background-image: url(textures/entity/mario-fall.png)
	}
}

@-webkit-keyframes playerDeath {
	0%, 100% {
		visibility: visible;
		background-image: url(textures/entity/mario-fall.png)
	}
	0% {bottom: 96px}
	15% {bottom: 180px}
	25% {bottom: 215px}
	40% {bottom: 240px}
	55% {bottom: 215px}
	70% {bottom: 140px}
	90%, 100% {bottom: -48px}
}
@keyframes playerDeath {
	0%, 100% {
		visibility: visible;
		background-image: url(textures/entity/mario-fall.png)
	}
	0% {bottom: 96px}
	15% {bottom: 180px}
	25% {bottom: 215px}
	40% {bottom: 240px}
	55% {bottom: 215px}
	70% {bottom: 140px}
	90%, 100% {bottom: -48px}
}

/* Goomba sprite */

.goomba {
	width: 48px;
	height: 48px;
	position: absolute;
	background-image: url(textures/entity/goomba.png);
	background-size: 100%;
	-webkit-animation: goombaIdle 0.25s infinite, goomba_walk 5s infinite linear;
	animation: goombaIdle 0.25s infinite, goomba_walk 5s infinite linear
}

@-webkit-keyframes goombaIdle {
	0%, 49% {-webkit-transform: rotateY(0)}
	50%, 100% {-webkit-transform: rotateY(180deg)}
}
@keyframes goombaIdle {
	0%, 49% {transform: rotateY(0)}
	50%, 100% {transform: rotateY(180deg)}
}